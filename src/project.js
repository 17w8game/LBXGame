require=function c(e,n,t){function i(r,a){if(!n[r]){if(!e[r]){var p="function"==typeof require&&require;if(!a&&p)return p(r,!0);if(o)return o(r,!0);var s=new Error("Cannot find module '"+r+"'");throw s.code="MODULE_NOT_FOUND",s}var u=n[r]={exports:{}};e[r][0].call(u.exports,function(c){var n=e[r][1][c];return i(n?n:c)},u,u.exports,c,e,n,t)}return n[r].exports}for(var o="function"==typeof require&&require,r=0;r<t.length;r++)i(t[r]);return i}({App:[function(c,e,n){"use strict";cc._RFpush(e,"bc9772ZVeVM2omwSvP+kAar","App");var t={startGame:function(){}},i=["Util"];for(var o in i){var r=i[o];c(r)}e.exports=t,cc._RFpop()},{}],BgRandomMove:[function(c,e,n){"use strict";function t(c,e,n){return e in c?Object.defineProperty(c,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):c[e]=n,c}cc._RFpush(e,"2efffJ1hlRMy6NEHp7IMcJi","BgRandomMove");var i;cc.Class({"extends":cc.Component,properties:(i={},t(i,"X轴移动距离",1),t(i,"y轴移动距离",1),t(i,"移动速度(单位：像素/秒)",20),t(i,"随机量",10),i),randomMove:function(){var c=cc.pLength(cc.p(this["X轴移动距离"],this["y轴移动距离"]))/this["移动速度(单位：像素/秒)"],e=cc.pMult(cc.pNormalize(cc.p(cc.randomMinus1To1(),cc.randomMinus1To1())),this["随机量"]),n=cc.pAdd(cc.p(this["X轴移动距离"],this["y轴移动距离"]),e),t=cc.repeatForever(cc.sequence(cc.moveBy(c,n),cc.moveBy(c,cc.pMult(n,-1))));this.node.runAction(t)},onLoad:function(){this.randomMove()}}),cc._RFpop()},{}],ButtonControl:[function(c,e,n){"use strict";function t(c,e,n){return e in c?Object.defineProperty(c,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):c[e]=n,c}cc._RFpush(e,"c2d5bVI67ZPAq8U5jXlmGwC","ButtonControl"),cc.Class({"extends":cc.Component,properties:t({},"音效",{"default":null,url:cc.AudioClip}),onClick:function(){cc.audioEngine.playEffect(this["音效"])},onLoad:function(){}}),cc._RFpop()},{}],GameData:[function(c,e,n){"use strict";function t(c,e,n){return e in c?Object.defineProperty(c,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):c[e]=n,c}cc._RFpush(e,"f90693GTmlGS7T5fknnDNTy","GameData"),cc.Class({"extends":cc.Component,properties:t({},"分数",0),onLoad:function(){}}),cc._RFpop()},{}],Game:[function(c,e,n){"use strict";function t(c,e,n){return e in c?Object.defineProperty(c,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):c[e]=n,c}cc._RFpush(e,"701b9htTn1PFIOruA6mnooK","Game");var i;cc.Class({"extends":cc.Component,properties:(i={},t(i,"分数",0),t(i,"背景音乐",{"default":null,url:cc.AudioClip}),t(i,"是否开启音乐",!0),i),onLoad:function(){c("App"),this["是否开启音乐"]&&cc.audioEngine.playEffect(this["背景音乐"],!0)}}),cc._RFpop()},{App:"App"}],InitLBXFrame:[function(c,e,n){"use strict";function t(c,e,n){return e in c?Object.defineProperty(c,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):c[e]=n,c}cc._RFpush(e,"73810un/L9B+7ptubQfLvHy","InitLBXFrame");var i;cc.Class({"extends":cc.Component,properties:(i={},t(i,"bianchanggezishu",5),t(i,"liubianxingH",0),t(i,"liubianxingA",0),t(i,"framePic",{"default":null,type:cc.SpriteFrame}),t(i,"bian",{"default":null,type:cc.SpriteFrame}),t(i,"xiaochuSound",{"default":null,url:cc.AudioClip}),i),checkXC:function(c){for(var e=[[0,1,2,3,4],[5,6,7,8,9,10],[11,12,13,14,15,16,17],[18,19,20,21,22,23,24,25],[26,27,28,29,30,31,32,33,34],[35,36,37,38,39,40,41,42],[43,44,45,46,47,48,49],[50,51,52,53,54,55],[56,57,58,59,60],[26,35,43,50,56],[18,27,36,44,51,57],[11,19,28,37,45,52,58],[5,12,20,29,38,46,53,59],[0,6,13,21,30,39,47,54,60],[1,7,14,22,31,40,48,55],[2,8,15,23,32,41,49],[3,9,16,24,33,42],[4,10,17,25,34],[0,5,11,18,26],[1,6,12,19,27,35],[2,7,13,20,28,36,43],[3,8,14,21,29,37,44,50],[4,9,15,22,30,38,45,51,56],[10,16,23,31,39,46,52,57],[17,24,32,40,47,53,58],[25,33,41,48,54,59],[34,42,49,55,60]],n=[],t=0;t<this.frameList.length;t++)this.frameList[t].isHaveFK&&n.push(this.frameList[t].FKIndex);n.sort(function(c,e){return c-e});for(var i=[],t=0;t<e.length;t++){var o=e[t],r=this.get2AryIntersect(n,o);if(r.length>0){var a=this.check2AryIsEqual(o,r);a&&(cc.log("消！！"),i.push(o),cc.audioEngine.playEffect(this.xiaochuSound))}}for(var p=0,t=0;t<i.length;t++)for(var s=i[t],u=0;u<s.length;u++){var l=s[u],h=this.frameList[l].getChildByName("colorSpr");h.destroy(),this.frameList[l].isHaveFK=null,p++}this.addScore(p)},addScore:function(c){var e=10*c*c,n=cc.find("Canvas/score/scoreLabel"),t=n.getComponent(cc.Label);t.string=e+Number(t.string)},get2AryIntersect:function(c,e){for(var n=[],t=0;t<c.length;t++)for(var i=0;i<e.length;i++)e[i]==c[t]&&n.push(e[i]);return n},check2AryIsEqual:function(c,e){for(var n=0;n<c.length;n++)if(e[n]!=c[n])return!1;return!0},onLoad:function(){for(var c=cc.p(this.node.x,this.node.y),e=(2*this.bianchanggezishu-1,[{count:5,srcPos:cc.p(0,0)},{count:6,srcPos:cc.p(2*this.liubianxingH,0)},{count:7,srcPos:cc.p(2*this.liubianxingH*2,0)},{count:8,srcPos:cc.p(2*this.liubianxingH*3,0)},{count:9,srcPos:cc.p(2*this.liubianxingH*4,0)},{count:8,srcPos:cc.p(2*this.liubianxingH*4+this.liubianxingH,-3*this.liubianxingA/2)},{count:7,srcPos:cc.p(2*this.liubianxingH*4+2*this.liubianxingH,-3*this.liubianxingA*2/2)},{count:6,srcPos:cc.p(2*this.liubianxingH*4+3*this.liubianxingH,-3*this.liubianxingA*3/2)},{count:5,srcPos:cc.p(2*this.liubianxingH*4+4*this.liubianxingH,-3*this.liubianxingA*4/2)}]),n=cc.pMult(cc.pForAngle(240*(2*Math.PI/360)),2*this.liubianxingH),t=cc.pMult(cc.pForAngle(120*(2*Math.PI/360)),2*this.liubianxingH*4),i=[],o=[],r=0;r<e.length;r++)for(var a=e[r].count,p=cc.pAdd(e[r].srcPos,t),s=cc.pAdd(c,p),u=0;a>u;u++){var l=cc.pAdd(s,cc.pMult(n,u));o.push(l)}for(var h=0;h<o.length;h++){var d=new cc.Node("frame"),f=d.addComponent(cc.Sprite);f.spriteFrame=this.framePic,d.x=o[h].x,d.y=o[h].y,d.parent=this.node,d.FKIndex=h;var m=new cc.Node("bianSpr"),g=m.addComponent(cc.Sprite);g.spriteFrame=this.bian,m.active=!1,m.parent=d,i.push(d)}this.frameList=i,this.posList=e,this.node.on("succDropDownOne",this.checkXC,this)}}),cc._RFpop()},{}],NewLBXKuai:[function(c,e,n){"use strict";function t(c,e,n){return e in c?Object.defineProperty(c,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):c[e]=n,c}cc._RFpush(e,"7f7eecsfeNLxL7pMDgXTdAA","NewLBXKuai");var i,o=c("InitLBXFrame"),r=c("Util");cc.Class({"extends":cc.Component,properties:(i={checkerboard:{"default":null,type:o}},t(i,"Kcount",3),t(i,"liubianxingH",0),t(i,"liubianxingA",0),t(i,"kuaiTex",{"default":null,type:cc.SpriteFrame}),t(i,"color1",{"default":null,type:cc.SpriteFrame}),t(i,"color2",{"default":null,type:cc.SpriteFrame}),t(i,"color3",{"default":null,type:cc.SpriteFrame}),t(i,"color4",{"default":null,type:cc.SpriteFrame}),t(i,"anSound",{"default":null,url:cc.AudioClip}),t(i,"fangxiaSound1",{"default":null,url:cc.AudioClip}),t(i,"fangxiaSound2",{"default":null,url:cc.AudioClip}),t(i,"fangxiaSound3",{"default":null,url:cc.AudioClip}),t(i,"canNotSound1",{"default":null,url:cc.AudioClip}),t(i,"canNotSound2",{"default":null,url:cc.AudioClip}),i),getTheConfig:function(){var c=this.liubianxingA,e=this.liubianxingH,n=[[[cc.p(0,0)]],[[cc.p(-e,0),cc.p(e,0)],[cc.p(-e,.5*-c),cc.p(0,c)],[cc.p(-e,.5*c),cc.p(0,-c)]],[[cc.p(2*-e,0),cc.p(0,0),cc.p(2*e,0)],[cc.p(2*-e,0),cc.p(0,0),cc.p(e,1.5*-c)],[cc.p(2*-e,0),cc.p(0,0),cc.p(e,1.5*c)],[cc.p(-e,1.5*-c),cc.p(0,0),cc.p(2*e,0)],[cc.p(-e,1.5*c),cc.p(0,0),cc.p(2*e,0)],[cc.p(-e,1.5*-c),cc.p(0,0),cc.p(e,1.5*c)],[cc.p(-e,1.5*c),cc.p(0,0),cc.p(e,1.5*-c)],[cc.p(-e,1.5*c),cc.p(0,0),cc.p(-e,1.5*-c)],[cc.p(e,1.5*c),cc.p(0,0),cc.p(e,1.5*-c)],[cc.p(0,c),cc.p(-e,.5*-c),cc.p(e,.5*-c)]],[[cc.p(3*-e,0),cc.p(-e,0),cc.p(e,0),cc.p(3*e,0)],[cc.p(3*-e,0),cc.p(-e,0),cc.p(e,0),cc.p(2*e,1.5*c)],[cc.p(3*-e,0),cc.p(-e,0),cc.p(e,0),cc.p(2*e,1.5*-c)],[cc.p(2*-e,1.5*c),cc.p(-e,0),cc.p(e,0),cc.p(3*e,0)],[cc.p(2*-e,1.5*-c),cc.p(-e,0),cc.p(e,0),cc.p(3*e,0)],[cc.p(2*-e,0),cc.p(0,0),cc.p(2*e,0),cc.p(e,1.5*c)],[cc.p(2*-e,0),cc.p(0,0),cc.p(2*e,0),cc.p(e,1.5*-c)],[cc.p(2*-e,0),cc.p(0,0),cc.p(2*e,0),cc.p(-e,1.5*c)],[cc.p(2*-e,0),cc.p(0,0),cc.p(2*e,0),cc.p(-e,1.5*-c)],[cc.p(2*-e,0),cc.p(0,0),cc.p(e,1.5*-c),cc.p(e,1.5*c)],[cc.p(2*-e,0),cc.p(0,0),cc.p(e,1.5*-c),cc.p(-e,1.5*-c)],[cc.p(2*-e,0),cc.p(0,0),cc.p(e,1.5*-c),cc.p(-e,1.5*c)],[cc.p(2*-e,0),cc.p(0,0),cc.p(e,1.5*-c),cc.p(3*-e,1.5*c)],[cc.p(2*-e,0),cc.p(0,0),cc.p(e,1.5*-c),cc.p(3*-e,1.5*-c)],[cc.p(2*-e,0),cc.p(0,0),cc.p(e,1.5*-c),cc.p(3*e,1.5*-c)],[cc.p(2*-e,0),cc.p(0,0),cc.p(e,1.5*-c),cc.p(2*e,3*-c)]]];return n},newOneK:function(c){var e=new cc.Node("colorSpr"),n=e.addComponent(cc.Sprite);n.spriteFrame=this["color"+c];var t=new cc.Node("wenliSpr"),i=t.addComponent(cc.Sprite);return i.spriteFrame=this.kuaiTex,t.parent=e,e},newOneNode:function(){var e=new cc.Node("kuai"),n=this.getTheConfig(),t=c("Util").random(0,3),i=n[t];t=c("Util").random(0,i.length-1);for(var o=i[t],r=c("Util").random(1,4),t=0;t<o.length;t++){var a=o[t],p=this.newOneK(r);p.x=a.x,p.y=a.y,e.addChild(p)}return e},addTouchEvent:function(){var c=100,e=this;this.node.ox=this.node.x,this.node.oy=this.node.y,this.node.on(cc.Node.EventType.TOUCH_START,function(){this.y+=c,cc.audioEngine.playEffect(e.anSound)},this.node),this.node.on(cc.Node.EventType.TOUCH_MOVE,function(c){var n=c.touch.getDelta();this.x+=n.x,this.y+=n.y,e.collisionFunc(cc.p(this.x,this.y)),e.checkIsCanDrop()?e.changeColorDeal():e.changeColorDeal(!0)},this.node),this.node.on(cc.Node.EventType.TOUCH_CANCEL,function(c){this.dropDownFunc()},this),this.node.on(cc.Node.EventType.TOUCH_END,function(c){this.dropDownFunc()},this)},changeColorDeal:function(c){for(var e=0;e<this.checkerboard.frameList.length;e++){var n=this.checkerboard.frameList[e].getChildByName("bianSpr");n.active=!1}if(!c)for(var e=0;e<this.checkFrameList.length;e++){var n=this.checkFrameList[e].getChildByName("bianSpr");n.active=!0}},collisionFunc:function(c){this.checkFrameList=[],this.checkFKlist=[];for(var e=this.node.children[0].children,n=0;n<e.length;n++){var t=cc.pAdd(this.node.position,cc.p(e[n].x,e[n].y)),i=this.checkPosFunc(t);i&&(this.checkFKlist.push(e[n]),this.checkFrameList.push(i))}},checkPosFunc:function(c){for(var e=27,n=0;n<this.checkerboard.frameList.length;n++){var t=this.checkerboard.frameList[n],i=cc.pDistance(cc.p(t.x,t.y),c);if(e>=i)return t}},checkIsLose:function(){},checkIsCanDrop:function(){if(0==this.checkFrameList.length||this.checkFrameList.length!=this.node.children[0].children.length)return!1;for(var c=0;c<this.checkFrameList.length;c++)if(this.checkFrameList[c].isHaveFK)return!1;return!0},dropDownFunc:function(){if(!this.checkIsCanDrop())return this.takeBack(),void cc.audioEngine.playEffect(this.canNotSound1);for(var c=0;c<this.checkFKlist.length;c++){this.checkFKlist[c].x=0,this.checkFKlist[c].y=0,this.checkFKlist[c].parent=this.checkFrameList[c],this.checkFrameList[c].isHaveFK=!0;var e=new cc.Node("guangEffNode"),n=e.addComponent(cc.Sprite);n.spriteFrame=this.checkerboard.bian,this.checkFrameList[c].addChild(e,-1);var t=cc.repeatForever(cc.sequence(cc.spawn(cc.fadeOut(1),cc.scaleTo(1,1.2)),cc.removeSelf()));e.runAction(t)}this.node.removeAllChildren();var i=this.newOneNode();this.node.addChild(i),this.checkerboard.node.emit("succDropDownOne");var o=r.random(1,3);cc.audioEngine.playEffect(this["fangxiaSound"+o]),this.takeBack()},takeBack:function(){this.checkFrameList=[],this.changeColorDeal(),this.node.x=this.node.ox,this.node.y=this.node.oy},onLoad:function(){this.checkFrameList=[],this.checkFKlist=[];var c=this.newOneNode();this.node.addChild(c),this.addTouchEvent()}}),cc._RFpop()},{InitLBXFrame:"InitLBXFrame",Util:"Util"}],ScoreBtnCp:[function(c,e,n){"use strict";cc._RFpush(e,"fa093eyq9ROGJnwYLEn4xRL","ScoreBtnCp"),cc.Class({"extends":cc.Component,properties:{},onLoad:function(){}}),cc._RFpop()},{}],StartBtnCp:[function(c,e,n){"use strict";function t(c,e,n){return e in c?Object.defineProperty(c,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):c[e]=n,c}cc._RFpush(e,"7d9dd4jmi9I7Z1fgVPHfEXS","StartBtnCp"),cc.Class({"extends":cc.Component,properties:t({},"游戏界面",{"default":null,type:cc.Prefab}),onClick:function(){var c=(this.node.parent,cc.sequence(cc.scaleTo(.2,0),cc.callFunc(function(){cc.log("开始游戏"),cc.director.loadScene("gameScene"),this.node.destroy()},this))),e=this.getComponent(cc.Animation);e.stop(),this.node.runAction(c)},onLoad:function(){}}),cc._RFpop()},{}],Util:[function(c,e,n){"use strict";cc._RFpush(e,"1f57fJXW/5MwpzGE2th5qGE","Util");var t={printObj:function(c){var e="";for(var n in c)e+=" function "==typeof c[n]?n+" \n ":n+" \n ";cc.log(e)},random:function(c,e){return Math.floor(Math.random()*(e-c+1)+c)}};e.exports=t,cc._RFpop()},{}]},{},["Util","BgRandomMove","Game","StartBtnCp","InitLBXFrame","NewLBXKuai","App","GameData","ScoreBtnCp","ButtonControl"]);